---
// Assets
import { Image } from "astro:assets";
// Fndation
import Text from "@/components/fundations/elements/Text.astro";
// Components
import BookmarksModal from "./BookmarksModal.astro";
// import data from Directory content collections
const { title, url, thumbnail, live } = {
  url: "/directory/" + Astro.props.post.slug,
  live: Astro.props.post.data.live,
  title: Astro.props.post.data.title,
  thumbnail: Astro.props.post.data.thumbnail.url,
};
---
<div
  class="group-hover:opacity-30 hover:opacity-100 peer hover:peer-hover:opacity-30 duration-300 group"
>
  <div class="overflow-hidden relative">
    <Image
      width="500"
      height="500"
      src={thumbnail}
      alt={Astro.props.post.data.thumbnail.alt}
      class="object-cover aspect-16/10 w-full"
    />
    <a href={url} title={title}>
      <span class="absolute inset-0"></span>
    </a>
  </div>
  <div class="pt-2">
    <div class="flex items-center lg:justify-between">
      <Text tag="h3" variant="textBase" class="font-medium text-base-900"
        >{title}
      </Text>
      <div class="flex items-center gap-2 opacity-0 group-hover:opacity-100">
        <a href={live} title={title}>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="icon icon-tabler icons-tabler-outline icon-tabler-link size-4"
            ><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path
              d="M9 15l6 -6"></path><path
              d="M11 6l.463 -.536a5 5 0 0 1 7.071 7.072l-.534 .464"></path><path
              d="M13 18l-.397 .534a5.068 5.068 0 0 1 -7.127 0a4.972 4.972 0 0 1 0 -7.071l.524 -.463"
            ></path></svg
          >
        </a>
        <div x-data="{ open: false }">
          <button class="flex items-center" x-on:click="open = true" aria-label="Add to bookmarks">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="icon icon-tabler icons-tabler-outline icon-tabler-bookmark-plus size-4"
              ><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path
                d="M12 17l-6 4v-14a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v5"
              ></path><path d="M16 19h6"></path><path d="M19 16v6"></path></svg
            >
          </button>
          <BookmarksModal />
        </div>
        <button class="flex items-center" aria-label="Share">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="icon icon-tabler icons-tabler-outline icon-tabler-heart-plus size-4"
            ><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path
              d="M12 20l-7.5 -7.428a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.96 6.053"
            ></path><path d="M16 19h6"></path><path d="M19 16v6"></path></svg
          >
        </button>
      </div>
    </div>
  </div>
</div>
